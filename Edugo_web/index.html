<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="MobileOptimized" content="0" />
    <meta name="HandheldFriendly" content="false" />
    <link rel="icon" type="image/svg+xml" href="./src/assets/logo.svg" />
    <title>EDUGO - Scholarship Management</title>
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
        background-color: #f9faff !important;
      }
      .mobile-block-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: #f9faff;
        z-index: 9999;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <script>
      function isOuMobilekrTablet() {
        return (
          /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
            navigator.userAgent
          ) || window.innerWidth <= 1024
        );
      }

      function blockMobileAccess() {
        // สร้างหน้าบล็อกและป้องกันการเข้าถึง React app
        document.body.innerHTML = `
          <div class="mobile-block-screen">
            <h1 style="color: #333; font-size: 24px; margin-bottom: 20px;">ใช้งานได้เฉพาะบนคอมพิวเตอร์</h1>
            <p style="font-size: 18px; margin: 20px 0; color: #666; max-width: 500px;">
              เพื่อประสบการณ์การใช้งานที่ดีที่สุดและป้องกันข้อผิดพลาด แอปพลิเคชันนี้สามารถใช้งานได้บนคอมพิวเตอร์เท่านั้น
            </p>
            <p style="font-size: 16px; color: #888;">
              กรุณาเข้าใช้งานผ่านคอมพิวเตอร์
            </p>
          </div>
        `;

        // หยุดการโหลดหน้าเว็บส่วนที่เหลือ
        document.addEventListener("DOMContentLoaded", function (event) {
          if (isOuMobilekrTablet()) {
            // หยุดการทำงานของ React
            if (window.stop) {
              window.stop();
            } else if (document.execCommand) {
              document.execCommand("Stop");
            }

            // ลบ root element เพื่อไม่ให้ React render
            const root = document.getElementById("root");
            if (root) {
              root.parentNode.removeChild(root);
            }

            // ป้องกันการสร้าง root element ใหม่
            Object.defineProperty(window, "ReactDOM", {
              get: function () {
                return null;
              },
              configurable: false,
            });
          }
        });
      }

      // ตรวจสอบตอนเริ่มต้น
      if (isOuMobilekrTablet()) {
        blockMobileAccess();
      } else {
        // เพิ่ม script tag สำหรับโหลด React เฉพาะเมื่อเป็นเดสก์ท็อป
        const script = document.createElement("script");
        script.type = "module";
        script.src = "/src/main.jsx";
        document.body.appendChild(script);
      }

      // ตรวจสอบเมื่อมีการเปลี่ยนขนาดหน้าจอ
      window.addEventListener("resize", function () {
        if (isOuMobilekrTablet()) {
          blockMobileAccess();
        }
      });
    </script>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
